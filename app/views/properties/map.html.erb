<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no"/>
  <style type="text/css">
      html {
          height: 100%
      }

      body {
          height: 100%;
          margin: 0;
          padding: 0;
          background: #e5e3df url(<%= image_path 'loader.gif' %>) no-repeat center center;
      }

      #map_canvas {
          height: 100%
      }
  </style>
  <script type="text/javascript"
          src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCsRfoexWRijXAex3c65sUoXxtb-e1muR4&sensor=false">
  </script>
  <script type="text/javascript">
      function initialize() {
          var property = new google.maps.LatLng(<%= @property.lat %>, <%= @property.lng %>);
          var mapOptions = {
              center: property,
              zoom: 14,
              mapTypeId: google.maps.MapTypeId.ROADMAP
          };
          var map = new google.maps.Map(document.getElementById("map_canvas"),
                  mapOptions);
          var marker = new google.maps.Marker({
              position: property,
              map: map,
              /* animation: google.maps.Animation.DROP, */
              icon: '<%= image_path 'map_marker.png' %>',
              title: '<%= @property.name %>'
          });
      }
  </script>
</head>
<body onload="initialize()">
<div id="map_canvas" style="width:100%; height:100%"></div>
</body>
</html>
